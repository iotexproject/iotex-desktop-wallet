# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

# meta data describing the account
type AccountMeta {
  # iotex address
  address: String!
  balance: String!
  nonce: Int!
  pendingNonce: Int!
}

type Action {
  core: ActionCore!
  senderPubKey: Buffer!
  signature: Buffer!
}

type ActionCore {
  version: Int!
  nonce: BigNumber!
  gasLimit: BigNumber!
  gasPrice: String!
  transfer: Transfer
  execution: Execution
  depositToRewardingFund: DepositToRewardingFund
  claimFromRewardingFund: ClaimFromRewardingFund
  grantReward: GrantReward
}

input ActionCoreInput {
  version: Int!
  nonce: BigNumber!
  gasLimit: BigNumber!
  gasPrice: String!
  transfer: TransferInput
  execution: ExecutionInput
  depositToRewardingFund: DepositToRewardingFundInput
  claimFromRewardingFund: ClaimFromRewardingFundInput
  grantReward: GrantRewardInput
}

type ActionInfo {
  action: Action!
  actHash: String!
  blkHash: String!
}

input ActionInput {
  core: ActionCoreInput!
  senderPubKey: Buffer!
  signature: Buffer!
}

# The BigNumber scalar type represents numeric values with precision as in https://github.com/MikeMcl/bignumber.js/
scalar BigNumber

# Properties of an blockMeta
type BlockMeta {
  hash: String!
  height: Int!
  timestamp: Int!
  numActions: Int!
  producerAddress: String!
  transferAmount: String!
  txRoot: String!
  receiptRoot: String!
  deltaStateDigest: String!
}

# JS Buffer or Uint8Array
scalar Buffer

type ChainMeta {
  height: String!
  numActions: String!
  tps: String!
  epoch: Epoch!
}

type ClaimFromRewardingFund {
  amount: String!
  data: Buffer!
}

input ClaimFromRewardingFundInput {
  amount: String!
  data: Buffer!
}

# IOTX price information from coinmarketcap
type CoinPrice {
  priceUsd: String!
  marketCapUsd: String!
}

type CreateDeposit {
  chainID: Int!
  amount: Buffer!
  recipient: String!
}

type DepositToRewardingFund {
  amount: String!
  data: Buffer!
}

input DepositToRewardingFundInput {
  amount: String!
  data: Buffer!
}

type Epoch {
  num: Float!
  height: Float!
  beaconChainHeight: Float!
}

type Execution {
  amount: String!
  contract: String!
  data: Buffer!
}

input ExecutionInput {
  amount: String!
  contract: String!
  data: Buffer!
}

type GetAccountResponse {
  accountMeta: AccountMeta!
}

input GetActionsByAddressRequest {
  # iotex address
  address: String!
  start: BigNumber!
  count: BigNumber!
}

input GetActionsByBlockRequest {
  blkHash: String!
  start: Int!
  count: Int!
}

input GetActionsByHashRequest {
  actionHash: String!
  checkingPending: Boolean!
}

input GetActionsByIndexRequest {
  start: BigNumber!
  count: BigNumber!
}

type GetActionsResponse {
  actionInfo: [ActionInfo!]
}

input GetBlockMetasByHashRequest {
  blkHash: String!
}

input GetBlockMetasByIndexRequest {
  start: Int!
  count: Int!
}

type GetBlockMetasResponse {
  blkMetas: [BlockMeta!]!
}

type GetReceiptByActionResponse {
  receipt: Receipt!
}

input GetUnconfirmedActionsByAddressRequest {
  # iotex address
  address: String!
  start: Int!
  count: Int!
}

type GrantReward {
  type: RewardType!
}

input GrantRewardInput {
  type: RewardType!
}

# Properties of an Log
type Log {
  # iotex address
  address: String!
  topics: Buffer!
  data: Buffer!
  blockNumber: Int!
  txnHash: Buffer!
  index: Int!
}

# scalar type of map buffer
scalar Map

type MerkleRoot {
  name: String!
  value: Buffer!
}

type PlumChallengeExit {
  subChainAddress: String!
  coinID: Int!
  challengeTransfer: Buffer!
  challengeTransferBlockProof: Buffer!
  challengeTransferBlockHeight: Int!
}

type PlumCreateDeposit {
  subChainAddress: String!
  amount: Buffer!
  recipient: String!
}

type PlumFinalizeExit {
  subChainAddress: String!
  coinID: Int!
}

type PlumPutBlock {
  subChainAddress: String!
  height: Int!
  roots: Map!
}

type PlumResponseChallengeExit {
  subChainAddress: String!
  coinID: Int!
  challengeTransfer: Buffer!
  responseTransfer: Buffer!
  responseTransferBlockProof: Buffer!
  previousTransferBlockHeight: Int!
}

type PlumSettleDeposit {
  coinID: Int!
}

type PlumStartExit {
  subChainAddress: String!
  previousTransfer: Buffer!
  previousTransferBlockProof: Buffer!
  previousTransferBlockHeight: Int!
  exitTransfer: Buffer!
  exitTransferBlockProof: Buffer!
  exitTransferBlockHeight: Int!
}

type PlumTransfer {
  coinID: Int!
  denomination: Buffer!
  owner: String!
  recipient: String!
}

type PutBlock {
  subChainAddress: String!
  height: Int!
  roots: [MerkleRoot!]!
}

type Query {
  # get chain metadata
  chainMeta: ChainMeta!

  # get the address detail of an address
  getAccount(
    # iotex address
    address: String!
  ): GetAccountResponse!

  # get block metadata(s) by:
  getBlockMetas(
    # start index and block count
    byIndex: GetBlockMetasByIndexRequest

    # block hash
    byHash: GetBlockMetasByHashRequest
  ): GetBlockMetasResponse!

  # suggest gas price
  suggestGasPrice: SuggestGasPriceResponse!

  # get receipt by action Hash
  getReceiptByAction(
    # action Hash
    actionHash: String!
  ): GetReceiptByActionResponse!

  # get action(s) by:
  getActions(
    # start index and action count
    byIndex: GetActionsByIndexRequest

    # address with start index and action count
    byAddr: GetActionsByAddressRequest

    # action hash
    byHash: GetActionsByHashRequest
  ): GetActionsResponse!

  # read contract
  readContract(action: ActionInput!): ReadContractResponse!

  # sendAction
  sendAction(action: ActionInput!): SendActionResponse!
  health: String!
  fetchCoinPrice: CoinPrice!
}

type ReadContractResponse {
  data: String!
}

# Properties of an Receipt
type Receipt {
  returnValue: Buffer!
  status: Int!
  actHash: Buffer!
  gasConsumed: Int!
  contractAddress: String!
  logs: [Log!]!
}

enum RewardType {
  BlockReward
  EpochReward
}

type SendActionResponse {
  TBD: Boolean
}

type SetReward {
  amount: Buffer!
  data: Buffer!
  type: Int!
}

type SettleDeposit {
  amount: Buffer!
  recipient: String!
  index: Int!
}

type StartSubChain {
  chainID: Int!
  securityDeposit: Buffer!
  operationDeposit: Buffer!
  startHeight: Int!
  parentHeightOffset: Int!
}

type StopSubChain {
  chainID: Int!
  stopHeight: Int!
  subChainAddress: String!
}

type SuggestGasPriceResponse {
  gasPrice: Int!
}

type TerminatePlumChain {
  subChainAddress: String!
}

type Timestamp {
  seconds: Int!
  nanos: Int!
}

type Transfer {
  amount: String!
  recipient: String!
  payload: Buffer!
}

input TransferInput {
  amount: String!
  recipient: String!
  payload: Buffer!
}

type Vote {
  timestamp: Timestamp!
  voteeAddress: String!
}
